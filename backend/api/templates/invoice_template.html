<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <style>
        body {
            font-family: DejaVu Sans, sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
        }

        .container {
            width: 90%;
            margin: 0 auto;
            padding: 25px;
        }

        /* HEADER */
        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            width: 140px;
            margin-bottom: 10px;
        }

        .title {
            font-size: 28px;
            font-weight: bold;
            color: #0ea5e9;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 14px;
            color: #555;
        }

        /* SECTION TITLES */
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-top: 25px;
            margin-bottom: 8px;
            color: #0ea5e9;
        }

        /* LIGHT DIVIDER */
        .divider {
            height: 1px;
            background: #e2e2e2;
            margin: 10px 0 20px 0;
        }

        /* ORDER INFO */
        .order-info,
        .shipping-info {
            font-size: 14px;
            line-height: 1.6;
        }

        /* ITEMS TABLE */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 14px;
        }

        table th {
            text-align: left;
            padding: 8px;
            background: #f5f5f5;
            color: #333;
        }

        table td {
            padding: 8px;
        }

        /* SUMMARY */
        .summary {
            margin-top: 25px;
            font-size: 15px;
            line-height: 1.8;
        }

        .summary-total {
            font-size: 18px;
            font-weight: bold;
            color: #0ea5e9;
            margin-top: 5px;
        }

        /* FOOTER */
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 13px;
            color: #777;
        }
    </style>
</head>

<body>
<div class="container">

    <!-- HEADER -->
    <div class="header">
        <img src="{{ logo_path }}" class="logo" />
        <div class="title">Invoice</div>
        <div class="subtitle">Thank you for shopping with Shoppers</div>
    </div>

    <!-- ORDER INFO -->
    <div class="section-title">Order Information</div>
    <div class="divider"></div>

    <div class="order-info">
        <strong>Order ID:</strong> {{ order.id }} <br />
        <strong>Date:</strong> {{ order.created }} <br />
        <strong>Payment:</strong> {{ order.paymentMethod }} <br />
        <strong>Status:</strong> {{ order.isPaid|yesno:"Paid,Pending" }}
    </div>

    <!-- SHIPPING -->
    <div class="section-title">Shipping Address</div>
    <div class="divider"></div>

    {% if shipping %}
    <div class="shipping-info">
        {{ shipping.fullName }} <br />
        {{ shipping.address }} <br />
        {{ shipping.city }} - {{ shipping.postalCode }} <br />
        {{ shipping.country }}
    </div>
    {% else %}
    <div>No address available</div>
    {% endif %}

    <!-- ITEMS -->
    <div class="section-title">Items</div>
    <div class="divider"></div>

    <table>
        <thead>
        <tr>
            <th>Product</th>
            <th>Qty</th>
            <th>Price (Rs.)</th>
            <th>Total (Rs.)</th>
        </tr>
        </thead>
        <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.name }}</td>
            <td>{{ item.qty }}</td>
            <td>{{ item.price }}</td>
            <td>{{ item.price|floatformat:0 }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <!-- SUMMARY -->
    <div class="section-title">Price Summary</div>
    <div class="divider"></div>

    <div class="summary">
        Items Total: Rs. {{ order.itemsPrice }} <br />
        Shipping: Rs. {{ order.shippingPrice }} <br />
        <div class="summary-total">
            Grand Total: Rs. {{ order.total }}
        </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        Smart Shopping Made Simple — Shoppers © 2025
    </div>

</div>
</body>
</html>
